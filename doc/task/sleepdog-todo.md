# Sleepdog项目实现计划

## 项目概述
将MCP改成一个可执行的JS脚本，名称为sleepdog（牧羊犬），用于监督AI更好地进行开发。

## 核心思路
- 根据调用时指定的名称来判定导航到哪个实现（类似busybox）
- 将MCP的描述抽离成cursorRule
- 移除路径参数，直接获取当前路径
- 移除初始化入口，在get-project-info时自动初始化

## 实现任务清单

### 阶段1：基础架构
- [x] 1.1 创建sleepdog.js主文件
- [x] 1.2 实现命令路由机制（基于调用名称）
- [x] 1.3 实现当前路径获取功能
- [x] 1.4 实现系统类型检测功能

### 阶段2：核心功能迁移
- [x] 2.1 从原MCP中提取get-project-info功能
- [x] 2.2 实现自动初始化流程（当文件夹不存在时）
- [x] 2.3 增强get-project-info返回值（添加git用户名和当前时间）
- [x] 2.4 提取MCP描述生成cursorRule

### 阶段3：新功能实现
- [x] 3.1 实现plan工具（创建PPID对应的todo.md文件）
- [x] 3.2 实现ask_user工具（基于ask_user文件的JS版本）
- [x] 3.3 实现ask_user的任务检查逻辑（检查未完成的todo项）
- [x] 3.4 实现任务完成时的响应逻辑

### 阶段4：快捷方式和部署
- [x] 4.1 实现快捷方式创建逻辑（Windows/Linux/Mac）
- [x] 4.2 为所有命令创建独立快捷方式
- [x] 4.3 测试所有功能的正确性
- [x] 4.4 完善错误处理和边界情况

### 阶段5：文档和优化
- [x] 5.1 创建使用文档
- [x] 5.2 优化代码结构和性能
- [x] 5.3 添加必要的注释和说明
- [x] 5.4 最终测试和验证

## 技术要点
- 使用Node.js实现
- 支持跨平台（Windows/Linux/Mac）
- 基于PPID进行任务管理
- 文件操作使用同步方式确保可靠性
- 错误处理要完善，输出要清晰严肃

## 注意事项
- 所有输出都针对cursor，内容需要严肃清晰表达
- 绝对不要使用emoji
- 路径格式要适配Windows系统
- 作者信息设置为qinyongliang 